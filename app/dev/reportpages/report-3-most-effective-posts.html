<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="favicon.ico">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="   sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,800&display=swap" rel="stylesheet">

    <link href="css/report-3-most-effective-posts.css" rel="stylesheet">
    
    <title>Buzz Radar Reports Page</title>

  </head>

  <body>

    <div id="report_slide" class="report-3-most-effective-posts" style="top:{{slideTop}}px;">

      <div class="slide-background">
        
        <div class="bubbles">
          <div class="b-top"></div>
          <div class="b-middle"></div>
          <div class="b-bottom"></div>
        </div>
        <div class="left-bar orange"></div>
        <div class="right-bar orange"></div>
        <div class="vertical"></div>

      </div>

      <div class="slide">
          
          <div class="report_title">
              <div class="top">{{report.name}}</div>
              <div class="bottom">Most Effective Owned Content</div>
          </div>

          <div class="content">
            <div class="main-layout-wrap">
              <div class="col1">
                <!-- <h1>Potential Reach: X.XM</h1> -->
                
                <div class="most_effective_content">
                  <!-- Javascript -->
                  

                  <!-- <div class="retweet twitter">
                    <img class="social_network_corner_logo" src="https://3c90f21d2e52d99af65d-cc7a500d9b10d65e67a8ddf30b9c21f5.ssl.cf3.rackcdn.com/reports_imgs/social/twitter_bird.png" width="40">
                    <div class="grade"></div>
                    <div class="avatar" style="background-image: url(http://pbs.twimg.com/profile_images/1024960867845197824/40BZozPb_normal.jpg);"></div>
                    <div class="handle">
                      Burberry<br>
                      <div class="followers">8.38 M Followers</div></div>
                      <div class="copy">A unique marriage of @Burberry heritage and modernity. Our form-fitting knee-high sock boots in signature check. Sh… https://t.co/sdb5GY9TzR</div>
                      <div class="date"><u>Mon, 19 Jan 1970 06:47:02 GMT</u> <strong>114 Likes 17 Retweets </strong>      <div class="eng-rate"><span>111 <i class="fa fa-mouse-pointer"></i></span><span>2222% <i class="fa fa-chain"></i></span></div>         
                    </div>
                    <div class="retweet_triangle twitter"></div>
                    </div>
                </div> -->



                
              </div>
            </div>

          </div>


      </div>

      <div class="footer">
          <div class="date-range">Date Range: {{fromDate | date('jS M Y') }} - {{ toDate | date('jS M Y') }}</div>
          <img src="https://3c90f21d2e52d99af65d-cc7a500d9b10d65e67a8ddf30b9c21f5.ssl.cf3.rackcdn.com/reports_imgs/logos/RGB_NAME_WHITEBG_SMALL72.png" width="200">
      </div>

    </div>





    <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>


    <script>



      var ThreeMostEffectivePostInstance = function () {

        var pageDataJS = {"twitterDailyReach":{"chart":[{"created":"2020-01-27 00:00:00+00","social_reach":300,"date":"January 27, 2020"},{"created":"2020-01-28 00:00:00+00","social_reach":3129,"date":"January 28, 2020"},{"created":"2020-01-29 00:00:00+00","social_reach":1675,"date":"January 29, 2020"},{"created":"2020-01-30 00:00:00+00","social_reach":10608,"date":"January 30, 2020"},{"created":"2020-01-31 00:00:00+00","social_reach":4,"date":"January 31, 2020"},{"created":"2020-02-01 00:00:00+00","social_reach":0,"date":"February 01, 2020"},{"created":"2020-02-02 00:00:00+00","social_reach":0,"date":"February 02, 2020"},{"created":"2020-02-03 00:00:00+00","social_reach":4174,"date":"February 03, 2020"},{"created":"2020-02-04 00:00:00+00","social_reach":11194,"date":"February 04, 2020"},{"created":"2020-02-05 00:00:00+00","social_reach":81052,"date":"February 05, 2020"},{"created":"2020-02-06 00:00:00+00","social_reach":1279,"date":"February 06, 2020"},{"created":"2020-02-07 00:00:00+00","social_reach":385,"date":"February 07, 2020"},{"created":"2020-02-08 00:00:00+00","social_reach":0,"date":"February 08, 2020"},{"created":"2020-02-09 00:00:00+00","social_reach":0,"date":"February 09, 2020"},{"created":"2020-02-10 00:00:00+00","social_reach":16572,"date":"February 10, 2020"},{"created":"2020-02-11 00:00:00+00","social_reach":117,"date":"February 11, 2020"},{"created":"2020-02-12 00:00:00+00","social_reach":405,"date":"February 12, 2020"},{"created":"2020-02-13 00:00:00+00","social_reach":28,"date":"February 13, 2020"},{"created":"2020-02-14 00:00:00+00","social_reach":503,"date":"February 14, 2020"},{"created":"2020-02-15 00:00:00+00","social_reach":0,"date":"February 15, 2020"},{"created":"2020-02-16 00:00:00+00","social_reach":0,"date":"February 16, 2020"},{"created":"2020-02-17 00:00:00+00","social_reach":29,"date":"February 17, 2020"},{"created":"2020-02-18 00:00:00+00","social_reach":276,"date":"February 18, 2020"},{"created":"2020-02-19 00:00:00+00","social_reach":0,"date":"February 19, 2020"},{"created":"2020-02-20 00:00:00+00","social_reach":439,"date":"February 20, 2020"},{"created":"2020-02-21 00:00:00+00","social_reach":1031,"date":"February 21, 2020"},{"created":"2020-02-22 00:00:00+00","social_reach":0,"date":"February 22, 2020"},{"created":"2020-02-23 00:00:00+00","social_reach":0,"date":"February 23, 2020"},{"created":"2020-02-24 00:00:00+00","social_reach":1174,"date":"February 24, 2020"},{"created":"2020-02-25 00:00:00+00","social_reach":520,"date":"February 25, 2020"},{"created":"2020-02-26 00:00:00+00","social_reach":1305,"date":"February 26, 2020"}],"total":136199},"top3MostEffectivePosts":[{"source":"twitter","user_id":false,"username":"TMobile","avatar":"http://pbs.twimg.com/profile_images/1194320956916785152/eC_UOaHU_normal.jpg","name":"T-Mobile","followers":1234262,"content":"This is awkward @AnthonyAnderson, Mama was clubbing with us… celebrating nationwide #5GThatWorks 🍾📲 https://t.co/Dy41nmK1gk","image":"http://pbs.twimg.com/media/EPqvOqdU8AMGGdC.jpg","date":{"timezone":{"name":"UTC","transitions":[{"ts":-9223372036854776000,"time":"-292277022657-01-27T08:29:52+0000","offset":0,"isdst":false,"abbr":"UTC"}],"location":{"country_code":"??","latitude":0,"longitude":0,"comments":"?"}},"offset":0,"timestamp":1580537172},"showValues":[{"value":29828,"label":"Likes"},{"value":2272,"label":"Retweets"}],"score":32100,"engagements":32100,"engagementRate":"2.601%"},{"source":"facebook","user_id":"194720757256597","username":"Volvo Construction Equipment North America","avatar":"https://e604928705f12d99b679-75d66e349be7351b0bb87db3c2ed768a.ssl.cf3.rackcdn.com/facebook-avatar/194720757256597.jpg","name":"","followers":false,"content":"The Gold Rush Excavator arrived in Florida! The one of a kind EC200E will be auctioned off next week at the massive Ritchie Bros. Orlando auction! \n\nHelp select the winning non-profit organization in the Gold Rush Give Big Giveaway, Habitat for Humanity or Building Homes For Heroes by voting and entering for your chance to win a weekly Discovery Inc Gold Rush ultimate fan pack. Enter every day until March 6, 2020. https://bit.ly/2Hn02hq","image":"https://e604928705f12d99b679-75d66e349be7351b0bb87db3c2ed768a.ssl.cf3.rackcdn.com//facebook-image/194720757256597_2817131348348845.jpg","date":{"timezone":{"name":"UTC","transitions":[{"ts":-9223372036854776000,"time":"-292277022657-01-27T08:29:52+0000","offset":0,"isdst":false,"abbr":"UTC"}],"location":{"country_code":"??","latitude":0,"longitude":0,"comments":"?"}},"offset":0,"timestamp":1581609905},"showValues":[{"value":1650,"label":"Likes"},{"value":77,"label":"Shares"},{"value":86,"label":"Comments"}],"score":7553,"postActivity":1814,"postClicks":5739},{"source":"instagram","user_id":false,"username":"volvoce_na","avatar":false,"name":null,"followers":false,"content":"Volvo A45G and EC750s moving earth to build a 55 billion gallon reservoir, part of the Everglades restoration project in south Florida.  Saving our wildlife habitat and keeping our oceans and beaches clean!\n #volvoce #excavator #truck #florida #construction #buildingtomorrow","image":"https://e604928705f12d99b679-75d66e349be7351b0bb87db3c2ed768a.ssl.cf3.rackcdn.com//instagram-image/image_18113790049072379.jpg","date":{"timezone":{"name":"UTC","transitions":[{"ts":-9223372036854776000,"time":"-292277022657-01-27T08:29:52+0000","offset":0,"isdst":false,"abbr":"UTC"}],"location":{"country_code":"??","latitude":0,"longitude":0,"comments":"?"}},"offset":0,"timestamp":1580846190},"showValues":[{"value":1814,"label":"Likes"},{"value":15,"label":"Comments"}],"score":1902,"impressions":26357,"reach":21752,"engagement":1902}]};

        var pageId = '';
        var slideDom = $('#report_slide'+pageId);
        console.log("Unique Page ID:", "report_slide"+pageId);
        console.log(pageDataJS);

        var formatNumber = function(value) {
          var finalValue;
          if (value > 1000000) {
            finalValue = Number((value/1000000).toFixed(2)) +' M';
            return finalValue;
          }
          if (value > 1000) {
            finalValue = Number((value/1000).toFixed(2)) +' K';
            return finalValue;
          }else{
            finalValue = value;
            return finalValue;
          }
        };

        var showPotentialReach = function(pageDataJS) {
          slideDom.find('h1').html('Potential Reach: <strong>'+formatNumber(pageDataJS.twitterDailyReach.total)+'</strong>');
        };

        var showStatsContent = function(arrayValues) {
          var ret = '';
          for (var i = 0; i < arrayValues.length; i++) {
            ret += arrayValues[i].value + ' ' + arrayValues[i].label + ' ';
          }
          return ret;
        };

        var getSocialIcon = function(social) {

          switch(social) {
            case "twitter":
              return 'https://3c90f21d2e52d99af65d-cc7a500d9b10d65e67a8ddf30b9c21f5.ssl.cf3.rackcdn.com/reports_imgs/social/twitter_bird.png';
            break;
            case "facebook":
              return 'https://3c90f21d2e52d99af65d-cc7a500d9b10d65e67a8ddf30b9c21f5.ssl.cf3.rackcdn.com/reports_imgs/social/facebook.png';
            break;
            case "instagram":
              return 'https://3c90f21d2e52d99af65d-cc7a500d9b10d65e67a8ddf30b9c21f5.ssl.cf3.rackcdn.com/reports_imgs/social/instagram.png';
            break;
          }

        };

        var addImageContent = function(contentObj) {

          var ret = '';
          if (contentObj.image) {
            ret = '<div class="img_content_wrap"><img class="img_content" src="'+contentObj.image+'" /></div>';
          }
          return ret;

        };


        var getGradeColor = function() {

          var tempScore = 'B';
          var ret = tempScore;
          if (tempScore == 'A+'){
            ret = 'ap';
          }else{
            ret = ret.toLowerCase();
          }

          return ret;

        };


        var addEngagementRate = function(contentObj) {

          var engagementHTML;
          switch(contentObj.source){
            case "twitter":
              engagementHTML = '<span>'+contentObj.engagements+' <i class="fa fa-mouse-pointer"></i></span><span>'+contentObj.engagementRate+' <i class="fa fa-chain"></i></span>';
            break;
            case "facebook":
              engagementHTML = '<span>'+contentObj.postActivity+' <i class="fa fa-bullhorn margin-right-10"></i></span><span>'+contentObj.postClicks+' <i class="fa fa-mouse-pointer"></i></span>';
            break;
            case "instagram":
              engagementHTML = '<span>'+contentObj.reach+' (Reach)</span><span>'+contentObj.impressions+' (Impressions)</span>';
            break;
          }
          return engagementHTML;

        };


        var showMostEffectiveContent = function(pageDataJS) {

          var dom = slideDom.find('.most_effective_content');

          for (var i = 0; i < pageDataJS.top3MostEffectivePosts.length; i++) {
            var contentObj = pageDataJS.top3MostEffectivePosts[i];
            var template = '<div class="retweet '+contentObj.source+'"><img class="social_network_corner_logo" src="'+getSocialIcon(contentObj.source)+'" width="40" /><div class="grade '+getGradeColor(contentObj)+'">??</div><div class="avatar" style="background-image: url('+contentObj.avatar+');"></div><div class="handle">'+contentObj.username+'<br><div class="followers">'+formatNumber(contentObj.followers)+' Followers</div></div><div class="copy">'+contentObj.content+'</div>'+addImageContent(contentObj)+'<div class="date"><u>'+new Date(contentObj.date.timestamp).toUTCString()+'</u> <strong>'+showStatsContent(contentObj.showValues)+'</strong>      <div class="eng-rate">'+addEngagementRate(contentObj)+'</div>         </div><div class="retweet_triangle '+contentObj.source+'"></div></div>';

            dom.append(template);
          
          }    

          setTimeout(function() {
            checkHeightContent();
          },50);


        };


        var checkHeightContent = function() {

          $( ".retweet" ).each(function( index ) {
            console.log( $( this ).height() );
            var h = $( this ).height();
            if (h>700){
              $(this).find('.img_content_wrap').addClass('short');
            }
          });

        };


        return {
            init: function () {
              showPotentialReach(pageDataJS);
              showMostEffectiveContent(pageDataJS);

            }
        };
        
      }();

      ThreeMostEffectivePostInstance.init();

    </script>


  </body>
</html>
