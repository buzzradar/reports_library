<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../favicon.ico">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="   sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,800&display=swap" rel="stylesheet">

    <link href="css/report-leaderboard.css" rel="stylesheet">

    <title>Buzz Radar Reports Page</title>

  </head>

  <body>

    <div id="report_slide" class="report-leaderboard" style="top:{{slideTop}}px;">

      <div class="slide-background">
        
        <div class="bubbles">
          <div class="b-top"></div>
          <div class="b-middle"></div>
          <div class="b-bottom"></div>
        </div>
        <div class="left-bar orange"></div>
        <div class="right-bar orange"></div>
        <div class="vertical"></div>

      </div>

      <div class="slide">
          
          <div class="report_title">
              <div class="top">{{report.name}}</div>
              <div class="bottom">{{topic.name}}: Leaderboard</div>
          </div>

          <div class="content">


            <div class="main-layout-wrap">
              <div class="col1" id="agents-holder">


                <!-- BEGIN: Agent Layout -->
                <!-- <div class="agent">

                    <div class="col-a1">
                      <span class="position">1</span>
                    </div>
                    <div class="col-a2">
                      <div class="increment">
                        <div class="increment-number">8</div>
                        <div class="arrow">
                          <i class="fa fa-arrow-up"></i>
                        </div>
                      </div>
                    </div>
                    <div class="col-a3">
                      <div class="profilePic">
                        <img src="https://pbs.twimg.com/profile_images/1265146763180195841/08ab-wVT_400x400.jpg" width="100%" height="100%" />
                      </div>
                    </div>
                    <div class="col-a4">
                      <div class="name-job">
                        <div class="name">
                          Guillaume Savary
                        </div>
                        <div class="job-description">
                          Conseiller Commercial
                        </div>
                      </div>
                    </div>

                    <div class="col-a5">
                      <div class="stats">
                        <div class="title">
                          Posts
                        </div>
                        <div class="stat-num">
                          23
                        </div>
                      </div>
                    </div>
                    <div class="col-a6">
                      <div class="stats">
                        <div class="title">
                          Engagement Rate
                        </div>
                        <div class="stat-num">
                          1.71%
                        </div>
                      </div>
                    </div>
                    <div class="col-a7">
                      <div class="stats">
                        <div class="title">
                          Score <small>(out 10)</small>
                        </div>
                        <div class="stat-num">
                          23
                        </div>
                      </div>
                    </div>

                </div> -->
                <!-- END: Agent Layout -->

                





              </div>
            </div>

          </div>


      </div>

      <div class="footer">
          <div class="date-range">Date Range: {{fromDate | date('jS M Y') }} - {{ toDate | date('jS M Y') }}</div>
          <img src="https://3c90f21d2e52d99af65d-cc7a500d9b10d65e67a8ddf30b9c21f5.ssl.cf3.rackcdn.com/reports_imgs/logos/RGB_NAME_WHITEBG_SMALL72.png" width="200">
      </div>

    </div>





    <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-base.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-tag-cloud.min.js"></script>

    <script>

      /**
       * Created by Juan Infante 
       */

      var LeaderboardInstance = function () {
          
          var pageDataJS = {"leaderboard":[{"id":19,"first_name":"Aur√©lien","last_name":"Garreau","avatar":"https://e604928705f12d99b679-75d66e349be7351b0bb87db3c2ed768a.ssl.cf3.rackcdn.com/facebook-avatar/Aurelien%20Garreau.jpg","country":"FR","job_description":"Conseiller Commercial Senior","bio":"Responsable de Secteur Saumur depuis 2016.\r\nLabel PU","twitter_connected":false,"instagram_connected":false,"facebook_page_id":"1571583323135761","linkedin_url":"https://www.linkedin.com/in/aur%C3%A9lien-garreau-16b8a5b1/","linkedin_url_valid":true,"total_score":"2.1666666666666667","old_score":"4.3875000000000000","top_post_date":"2020-07-16 19:07:14","top_post_media":"https://scontent.flhr4-1.fna.fbcdn.net/v/t1.0-9/s720x720/109518450_1822042581268677_1622014933983385645_o.jpg?_nc_cat=106&_nc_sid=110474&_nc_ohc=KV6l0i7CEl8AX8222Rr&_nc_ht=scontent.flhr4-1.fna&_nc_tp=7&oh=dd8e1b90b31c6b037564c01cedf87985&oe=5F4650BB","top_post_copy":null,"followers_now":77,"old_followers":77,"posts":36,"old_posts":8,"rank":1,"old_rank":5,"rank_trend":4,"followers_trend":0,"posts_trend":78,"score_trend":-51,"frecv":"1.20","engagement":"2.1666666666666667"},{"id":22,"first_name":"Guillaume","last_name":"Savary","avatar":"https://e604928705f12d99b679-75d66e349be7351b0bb87db3c2ed768a.ssl.cf3.rackcdn.com/facebook-avatar/Savary%20Guillaume.jpg","country":"FR","job_description":"Conseiller commercial","bio":"CC depuis 3 ans dans l'OD WATEL dans le nord de la France (Valenciennes).\r\nJ'ai lanc√© ma pag√© FB pro pendant le confinement.","twitter_connected":false,"instagram_connected":false,"facebook_page_id":"114329053546987","linkedin_url":"https://www.linkedin.com/in/guillaume-savary-3a3584103/","linkedin_url_valid":true,"total_score":"2.0029500000000000","old_score":"6.3505555555555556","top_post_date":"2020-07-15 16:01:00","top_post_media":"https://external.flhr4-2.fna.fbcdn.net/safe_image.php?d=AQDZtog_XDJJ9G3Z&url=https%3A%2F%2Fwww.mieuxvivre-votreargent.fr%2Fwp-content%2Fuploads%2F2018%2F06%2FAssurance-maladie-%C3%A9conomies-sant%C3%A9-m%C3%A9dicaments-1024x680.jpg&_nc_hash=AQAoiCmgpY22GXgK","top_post_copy":"üí° La pr√©voyance est un moyen incontournable pour prot√©ger ses proches : ses enfants et surtout son conjoint\nBonne nouvelle ! Avant 45 ans le co√ªt mensuel est raisonnable pour des garanties qui s√©curisent r√©ellement votre foyer.\nParlons-en ensemble pour adapter votre pr√©voyance √† votre situation\nüì≤ 06.11.26.51.60.\nüì© En MP sur ma page","followers_now":85,"old_followers":82,"posts":20,"old_posts":9,"rank":2,"old_rank":1,"rank_trend":-1,"followers_trend":4,"posts_trend":56,"score_trend":-69,"frecv":"0.67","engagement":"2.0029500000000000"},{"id":21,"first_name":"Nicolas","last_name":"Alves","avatar":"https://e604928705f12d99b679-75d66e349be7351b0bb87db3c2ed768a.ssl.cf3.rackcdn.com/facebook-avatar/Nicolas%20Alves.jpg","country":"FR","job_description":"Conseiller commercial ","bio":"Plus qu‚Äôun m√©tier une passion","twitter_connected":false,"instagram_connected":false,"facebook_page_id":"227605311351783","linkedin_url":"https://www.linkedin.com/in/nicolas-alves-b03454100/","linkedin_url_valid":true,"total_score":"1.4961527777777778","old_score":"2.9441176470588235","top_post_date":"2020-07-20 22:51:37","top_post_media":"https://external.flhr4-2.fna.fbcdn.net/safe_image.php?d=AQDSXdLN6LgFZ_YT&url=https%3A%2F%2Fpbs.twimg.com%2Fext_tw_video_thumb%2F1285234759908626442%2Fpu%2Fimg%2FkxUsBCNuq770rCcQ.jpg&_nc_hash=AQBgWr8ED_LBltoB","top_post_copy":"L'agenda charg√© de publications macro√©conomiques aux Etats-unis et l'indice de confiance des consommateurs et des entreprises de la zone euro marqueront cette semaine n¬∞29.\n#March√©s #macro√©conomie \nMentions l√©gales : http://my.sociabble.com/94co3822jM1N","followers_now":82,"old_followers":81,"posts":72,"old_posts":68,"rank":3,"old_rank":7,"rank_trend":4,"followers_trend":2,"posts_trend":6,"score_trend":-50,"frecv":"2.40","engagement":"1.4961527777777778"},{"id":47,"first_name":"Tanguy","last_name":"Chesneau","avatar":"https://e604928705f12d99b679-75d66e349be7351b0bb87db3c2ed768a.ssl.cf3.rackcdn.com/facebook-avatar/08072020-0842-image.jpeg","country":"FR","job_description":"CONSEILLER COMMERCIAL EN ASSURANCE","bio":"Pensons ou repensons ensemble vos projets personnels.  R√©fl√©chissons ensuite aux al√©as qui pourraient venir entraver leur r√©alisation. A l‚Äôissue de cette analyse, nous trouverons ensemble vos solutions en assurances. celle ci seront adapt√©es √† vos besoins.‚Äù ","twitter_connected":false,"instagram_connected":false,"facebook_page_id":"706069036171637","linkedin_url":"https://www.linkedin.com/in/tanguy-chesneau-a7b2675a/","linkedin_url_valid":true,"total_score":"0.99897674418604651163","old_score":"5.8778888888888889","top_post_date":"2020-07-30 06:10:31","top_post_media":"https://scontent.flhr4-1.fna.fbcdn.net/v/t1.0-9/p720x720/116798580_3287893024567439_8602316308933184315_o.jpg?_nc_cat=101&_nc_sid=110474&_nc_ohc=gYIq9shBg9UAX-Ntufx&_nc_ht=scontent.flhr4-1.fna&_nc_tp=6&oh=e18d16e83ee8b9594669e9adb3b11e8b&oe=5F47A4CC","top_post_copy":null,"followers_now":188,"old_followers":188,"posts":43,"old_posts":9,"rank":4,"old_rank":2,"rank_trend":-2,"followers_trend":0,"posts_trend":80,"score_trend":-84,"frecv":"1.43","engagement":"0.99897674418604651163"},{"id":46,"first_name":"Thomas","last_name":"Fournier","avatar":"https://e604928705f12d99b679-75d66e349be7351b0bb87db3c2ed768a.ssl.cf3.rackcdn.com/facebook-avatar/07072020-1128-image.jpeg","country":"FR","job_description":"CONSEILLER COMMERCIAL","bio":"CONSEILLER COMMERCIAL A LONS LE SAUNIER","twitter_connected":false,"instagram_connected":false,"facebook_page_id":"109023787262928","linkedin_url":"https://www.linkedin.com/in/thomas-fournier-2750a686/","linkedin_url_valid":true,"total_score":"0.63055263157894736842","old_score":"4.7983333333333333","top_post_date":"2020-07-22 15:13:29","top_post_media":"https://scontent.flhr4-2.fna.fbcdn.net/v/t15.13418-10/115818076_4748505581833639_2434645875081039056_n.jpg?_nc_cat=100&_nc_sid=ad6a45&_nc_ohc=OwoJiKnBED4AX_ay8jm&_nc_ht=scontent.flhr4-2.fna&oh=1cba53d6d0af6e987c0c2ce6e9251860&oe=5F474B8A","top_post_copy":"Generali ü¶Å lance sa campagne de communication mondiale... \nR√©solument Red ü•∞ü§©ü•∞\n#R√©seauSalari√© #Conseillers #Collaborateurs #communication","followers_now":136,"old_followers":137,"posts":38,"old_posts":3,"rank":5,"old_rank":4,"rank_trend":-1,"followers_trend":-1,"posts_trend":93,"score_trend":-87,"frecv":"1.27","engagement":"0.63055263157894736842"},{"id":17,"first_name":"Julien","last_name":"Martinez","avatar":"https://e604928705f12d99b679-75d66e349be7351b0bb87db3c2ed768a.ssl.cf3.rackcdn.com/facebook-avatar/Julien%20Martinez.jpg","country":"FR","job_description":"Conseiller Commercial Expert","bio":"Annecy","twitter_connected":false,"instagram_connected":false,"facebook_page_id":"1834576200166413","linkedin_url":"https://www.linkedin.com/in/julien-martinez-86106b124/","linkedin_url_valid":true,"total_score":"0.36348648648648648649","old_score":"5.0940000000000000","top_post_date":"2020-07-15 20:08:04","top_post_media":"https://scontent.flhr4-2.fna.fbcdn.net/v/t15.13418-10/107987757_3046792948732848_3918279700276536986_n.jpg?_nc_cat=111&_nc_sid=ad6a45&_nc_ohc=r3yscLnnX7QAX_ZEVOQ&_nc_ht=scontent.flhr4-2.fna&oh=7225545a18a87c17a4f45f1a15fd277b&oe=5F49B178","top_post_copy":"üö®‚ö†Ô∏è ùì∑ùìÆùîÄ ùìøùì≤ùì≠ùìÆùì∏ ‚ö†Ô∏èüö®\n\nü¶Åü¶Åü¶Å\n\n#lifetimepartner #assurance #conseils #Epargne #satisfaction #clients #red\n#digital #recommandation #testamento","followers_now":274,"old_followers":271,"posts":37,"old_posts":7,"rank":6,"old_rank":3,"rank_trend":-3,"followers_trend":2,"posts_trend":82,"score_trend":-93,"frecv":"1.23","engagement":"0.36348648648648648649"},{"id":18,"first_name":"Laurent","last_name":"Le Gal","avatar":"https://e604928705f12d99b679-75d66e349be7351b0bb87db3c2ed768a.ssl.cf3.rackcdn.com/facebook-avatar/Laurent%20Le%20Gal.jpg","country":"FR","job_description":"Conseiller commercial moniteur expert","bio":"14 ans d'exp√©rience chez Generali assurances. \r\nLabellis√© Prime Unique et Retraite.\r\nExpert.\r\nMoniteur.","twitter_connected":false,"instagram_connected":false,"facebook_page_id":"205337786749843","linkedin_url":"https://www.linkedin.com/in/laurent-le-gal-5a4845131/","linkedin_url_valid":true,"total_score":"0.17594871794871794872","old_score":"4.0446666666666667","top_post_date":"2020-07-23 20:11:53","top_post_media":"https://external.flhr4-2.fna.fbcdn.net/safe_image.php?d=AQDs-uVjn9D4IUXA&url=https%3A%2F%2Fmedia.ouest-france.fr%2Fv1%2Fpictures%2FMjAyMDA3YWYwYWQyMzM1MWU5MTA1OTc0MTVhOTdkNjEyOWQ4Njk%3Fwidth%3D1260%26height%3D712%26focuspoint%3D57%252C85%26cropresize%3D1%26client_id%3Dbpeditorial%26sign%3D0a5a6ebd2c6b7feb7efd16cc99384fad7df982739681711ec40dd2fe6fd54931&_nc_hash=AQCGAORG1xz-GbRD","top_post_copy":"Un taux, inf√©rieur √† l'inflation !, qui ne remontera pas avant des ann√©es et les Fran√ßais continuent √† abonder √† +20 milliards ce type de livret... Et vous, vous trouvez √ßa logique?!","followers_now":33,"old_followers":33,"posts":39,"old_posts":3,"rank":7,"old_rank":6,"rank_trend":-1,"followers_trend":0,"posts_trend":93,"score_trend":-96,"frecv":"1.30","engagement":"0.17594871794871794872"}]};

          console.log(pageDataJS); 

          var pageId = '';
          var slideDom = $('#report_slide'+pageId);
          var custom = {
              color : '#F6871B',
              vendorLogoURL : 'https://3c90f21d2e52d99af65d-cc7a500d9b10d65e67a8ddf30b9c21f5.ssl.cf3.rackcdn.com/reports_imgs/bg/buzzradar_logo_reports.png',
              bgURL : 'https://3c90f21d2e52d99af65d-cc7a500d9b10d65e67a8ddf30b9c21f5.ssl.cf3.rackcdn.com/reports_imgs/bg/br_reports_bg.jpg',
          };
          console.log("Unique Page ID:", "report_slide"+pageId);


          var hexToRgb = function(hex,alpha) {
            // Expand shorthand form (e.g. "03F") to full form (e.g. "0033FF")
            var shorthandRegex = /^#?([a-f\d])([a-f\d])([a-f\d])$/i;
            hex = hex.replace(shorthandRegex, function(m, r, g, b) {
              return r + r + g + g + b + b;
            });

            var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? "rgba("+parseInt(result[1], 16)+","+parseInt(result[2], 16)+","+parseInt(result[3], 16)+","+alpha+")" : null;
          };



          var getArrow = function(agentInfo) {

            var arrow = '<i class="fa fa-arrow-up"></i>';
            if (agentInfo.old_rank > agentInfo.rank) {
              arrow = '<i class="fa fa-arrow-down"></i>';
            }
            return arrow;

          };




          var loadLeaderboard = function() {

            var agentsHolderDOM = slideDom.find('#agents-holder');
            
            for (var i = 0; i <= 4; i++) {
              
              var agentDOM = `<!-- BEGIN: Agent Layout -->
                <div class="agent">

                    <div class="col-a1">
                      <span class="position">`+pageDataJS.leaderboard[i].rank+`</span>
                    </div>
                    <div class="col-a2">
                      <div class="increment">
                        <div class="increment-number">`+pageDataJS.leaderboard[i].rank_trend+`</div>
                        <div class="arrow">
                          `+getArrow(pageDataJS.leaderboard[i])+`
                        </div>
                      </div>
                    </div>
                    <div class="col-a3">
                      <div class="profilePic">
                        <img src="`+pageDataJS.leaderboard[i].avatar+`" width="100%" height="100%" />
                      </div>
                    </div>
                    <div class="col-a4">
                      <div class="name-job">
                        <div class="name">
                          `+pageDataJS.leaderboard[i].first_name + ' ' + pageDataJS.leaderboard[i].last_name +`
                        </div>
                        <div class="job-description">
                          `+pageDataJS.leaderboard[i].job_description+`
                        </div>
                      </div>
                    </div>

                    <div class="col-a5">
                      <div class="stats">
                        <div class="title">
                          Posts
                        </div>
                        <div class="stat-num">
                          `+pageDataJS.leaderboard[i].posts+`
                        </div>
                      </div>
                    </div>
                    <div class="col-a6">
                      <div class="stats">
                        <div class="title">
                          Engagement Rate
                        </div>
                        <div class="stat-num">
                          `+Number(Math.round((pageDataJS.leaderboard[i].engagement)+'e2')+'e-2')+`%
                        </div>
                      </div>
                    </div>
                    <div class="col-a7">
                      <div class="stats">
                        <div class="title">
                          Score <small>(out 10)</small>
                        </div>
                        <div class="stat-num">
                          `+Number(Math.round((pageDataJS.leaderboard[i].total_score)+'e2')+'e-2')+`
                        </div>
                      </div>
                    </div>

                </div>
                <!-- END: Agent Layout -->`;

              agentsHolderDOM.append(agentDOM);
            }

          };
          

          var customize = function(customObject) {

            //Change Color
            var newColor = customObject.color;
            slideDom.find('.slide-background').find('.left-bar').css('background',newColor);
            slideDom.find('.slide-background').find('.right-bar').css('background',newColor);
            slideDom.find('.report_title').css('borderColor',newColor);

            //Change Color Agent
            slideDom.find('.agent').css('background', hexToRgb(newColor,1) );

            //Change Vendor Logo
            //Developer Note: To avoid having issues placing the different logos, they must be 
            //created within this dimensions: 300 x 131
            slideDom.find('.footer').find('img').attr('src',customObject.vendorLogoURL);
            slideDom.find('.footer').find('img').css('marginTop',-25);
            slideDom.find('.footer').find('img').css('width',170);

          };


          return {
              init: function () {

                loadLeaderboard();
                customize(custom);

              }
          };


      }();

      LeaderboardInstance.init();
      
    </script>


  </body>
</html>
