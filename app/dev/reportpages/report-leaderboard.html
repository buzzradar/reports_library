<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../favicon.ico">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="   sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,800&display=swap" rel="stylesheet">

    <link href="css/report-leaderboard.css" rel="stylesheet">

    <title>Buzz Radar Reports Page</title>

  </head>

  <body>

    <div id="report_slide" class="report-leaderboard" style="top:{{slideTop}}px;">

      <div class="slide-background">
        
        <div class="bubbles">
          <div class="b-top"></div>
          <div class="b-middle"></div>
          <div class="b-bottom"></div>
        </div>
        <div class="left-bar orange"></div>
        <div class="right-bar orange"></div>
        <div class="vertical"></div>

      </div>

      <div class="slide">
          
          <div class="report_title">
              <div class="top">{{report.name}}</div>
              <div class="bottom">{{topic.name}}: Leaderboard</div>
          </div>

          <div class="content">


            <div class="main-layout-wrap">
              <div class="col1" id="agents-holder">


                <!-- BEGIN: Agent Layout -->
                <!-- <div class="agent">

                    <div class="col-a1">
                      <span class="position">1</span>
                    </div>
                    <div class="col-a2">
                      <div class="increment">
                        <div class="increment-number">8</div>
                        <div class="arrow">
                          <i class="fa fa-arrow-up"></i>
                        </div>
                      </div>
                    </div>
                    <div class="col-a3">
                      <div class="profilePic">
                        <img src="https://pbs.twimg.com/profile_images/1265146763180195841/08ab-wVT_400x400.jpg" width="100%" height="100%" />
                      </div>
                    </div>
                    <div class="col-a4">
                      <div class="name-job">
                        <div class="name">
                          Guillaume Savary
                        </div>
                        <div class="job-description">
                          Conseiller Commercial
                        </div>
                      </div>
                    </div>

                    <div class="col-a5">
                      <div class="stats">
                        <div class="title">
                          Posts
                        </div>
                        <div class="stat-num">
                          23
                        </div>
                      </div>
                    </div>
                    <div class="col-a6">
                      <div class="stats">
                        <div class="title">
                          Engagement Rate
                        </div>
                        <div class="stat-num">
                          1.71%
                        </div>
                      </div>
                    </div>
                    <div class="col-a7">
                      <div class="stats">
                        <div class="title">
                          Score <small>(out 10)</small>
                        </div>
                        <div class="stat-num">
                          23
                        </div>
                      </div>
                    </div>

                </div> -->
                <!-- END: Agent Layout -->

                





              </div>
            </div>

          </div>


      </div>

      <div class="footer">
          <div class="date-range">Date Range: {{fromDate | date('jS M Y') }} - {{ toDate | date('jS M Y') }}</div>
          <img src="https://3c90f21d2e52d99af65d-cc7a500d9b10d65e67a8ddf30b9c21f5.ssl.cf3.rackcdn.com/reports_imgs/logos/RGB_NAME_WHITEBG_SMALL72.png" width="200">
      </div>

    </div>





    <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-base.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-tag-cloud.min.js"></script>

    <script>

      /**
       * Created by Juan Infante 
       */

      var LeaderboardInstance = function () {
          
          var pageDataJS = {"leaderboard":[{"id":22,"first_name":"Guillaume","last_name":"Savary","avatar":"https://e604928705f12d99b679-75d66e349be7351b0bb87db3c2ed768a.ssl.cf3.rackcdn.com/facebook-avatar/Savary%20Guillaume.jpg","country":"FR","job_description":"Conseiller commercial","bio":"CC depuis 3 ans dans l'OD WATEL dans le nord de la France (Valenciennes).\r\nJ'ai lanc√© ma pag√© FB pro pendant le confinement.","twitter_connected":false,"instagram_connected":false,"facebook_page_id":"114329053546987","linkedin_url":"https://www.linkedin.com/in/guillaume-savary-3a3584103/","linkedin_url_valid":true,"total_score":"1.7569583333333333","old_score":"3.5958750000000000","top_post_date":"2020-07-27 16:00:15","top_post_media":"https://external.flhr4-2.fna.fbcdn.net/safe_image.php?d=AQDNrHnhTQrPgbEh&w=1280&h=720&url=https%3A%2F%2Fi.ytimg.com%2Fvi%2FuvaTzXkfAMg%2Fmaxresdefault.jpg&crop&sx=0&sy=0&sw=1280&sh=720&_nc_hash=AQCh2_1NiOys_VGf","top_post_copy":"üÜò Pendant les vacances (et tout le reste de l'ann√©e), la t√©l√©consultation m√©dicale chez Generali vous vient en aide lorsque vous en avez besoin. \nC'est inclus dans notre mutuelle sant√© et compl√®tement gratuit !","followers_now":85,"old_followers":73,"posts":24,"old_posts":8,"rank":1,"old_rank":3,"rank_trend":2,"followers_trend":15,"posts_trend":67,"score_trend":-52,"frecv":"0.80"},{"id":17,"first_name":"Julien","last_name":"Martinez","avatar":"https://e604928705f12d99b679-75d66e349be7351b0bb87db3c2ed768a.ssl.cf3.rackcdn.com/facebook-avatar/Julien%20Martinez.jpg","country":"FR","job_description":"Conseiller Commercial Expert","bio":"Annecy","twitter_connected":false,"instagram_connected":false,"facebook_page_id":"1834576200166413","linkedin_url":"https://www.linkedin.com/in/julien-martinez-86106b124/","linkedin_url_valid":true,"total_score":"0.94423076923076923077","old_score":"3.6900000000000000","top_post_date":"2020-07-15 20:08:04","top_post_media":"https://scontent.flhr4-2.fna.fbcdn.net/v/t15.13418-10/107987757_3046792948732848_3918279700276536986_n.jpg?_nc_cat=111&_nc_sid=ad6a45&_nc_ohc=r3yscLnnX7QAX_ZEVOQ&_nc_ht=scontent.flhr4-2.fna&oh=7225545a18a87c17a4f45f1a15fd277b&oe=5F49B178","top_post_copy":"üö®‚ö†Ô∏è ùì∑ùìÆùîÄ ùìøùì≤ùì≠ùìÆùì∏ ‚ö†Ô∏èüö®\n\nü¶Åü¶Åü¶Å\n\n#lifetimepartner #assurance #conseils #Epargne #satisfaction #clients #red\n#digital #recommandation #testamento","followers_now":274,"old_followers":271,"posts":39,"old_posts":9,"rank":2,"old_rank":2,"rank_trend":0,"followers_trend":2,"posts_trend":77,"score_trend":-75,"frecv":"1.30"},{"id":19,"first_name":"Aur√©lien","last_name":"Garreau","avatar":"https://e604928705f12d99b679-75d66e349be7351b0bb87db3c2ed768a.ssl.cf3.rackcdn.com/facebook-avatar/Aurelien%20Garreau.jpg","country":"FR","job_description":"Conseiller Commercial Senior","bio":"Responsable de Secteur Saumur depuis 2016.\r\nLabel PU","twitter_connected":false,"instagram_connected":false,"facebook_page_id":"1571583323135761","linkedin_url":"https://www.linkedin.com/in/aur%C3%A9lien-garreau-16b8a5b1/","linkedin_url_valid":true,"total_score":"0.75525641025641025641","old_score":"0.64933333333333333333","top_post_date":"2020-07-14 07:37:24","top_post_media":"https://scontent.flhr4-1.fna.fbcdn.net/v/t1.0-9/s720x720/109201867_3512799895420916_7067680555140070668_o.jpg?_nc_cat=104&_nc_sid=110474&_nc_ohc=O4RwZyjFsyMAX--j2aH&_nc_ht=scontent.flhr4-1.fna&_nc_tp=7&oh=8f7d18599b0b0b754d8c7ca6ddd9578f&oe=5F463F26","top_post_copy":"A vos votes pour le ch√¢teau de Brez√©","followers_now":77,"old_followers":77,"posts":39,"old_posts":6,"rank":3,"old_rank":7,"rank_trend":4,"followers_trend":0,"posts_trend":85,"score_trend":15,"frecv":"1.30"},{"id":46,"first_name":"Thomas","last_name":"Fournier","avatar":"https://e604928705f12d99b679-75d66e349be7351b0bb87db3c2ed768a.ssl.cf3.rackcdn.com/facebook-avatar/07072020-1128-image.jpeg","country":"FR","job_description":"CONSEILLER COMMERCIAL","bio":"CONSEILLER COMMERCIAL A LONS LE SAUNIER","twitter_connected":false,"instagram_connected":false,"facebook_page_id":"109023787262928","linkedin_url":"https://www.linkedin.com/in/thomas-fournier-2750a686/","linkedin_url_valid":true,"total_score":"0.59202500000000000000","old_score":"33.2090000000000000","top_post_date":"2020-07-08 10:23:28","top_post_media":"https://scontent.flhr4-1.fna.fbcdn.net/v/t1.0-9/s720x720/107491543_177943670370939_3324860229468757704_o.jpg?_nc_cat=107&_nc_sid=8024bb&_nc_ohc=NP0s4hPTlbQAX-LftO1&_nc_ht=scontent.flhr4-1.fna&_nc_tp=7&oh=b3afe45b0289d8bf09be56ac4b52888f&oe=5F46CA0B","top_post_copy":"Quelles assurances pr√©voir si vous souhaitez arr√™ter de travailler avant l‚Äô√¢ge de la retraite ?\n\nParlons en ! ‚è¨‚è¨‚è¨\n\nüìû : 07.62.21.93.25\n\nhttps://www.generali.fr/actu/arret-travail-retraite/?fbclid=IwAR1WTJK982r1q0o3w6EgSdWwAwQ5XYZy1UemShjqlnbxIY4HLAlyXZnKiJo","followers_now":136,"old_followers":null,"posts":40,"old_posts":2,"rank":4,"old_rank":1,"rank_trend":-3,"followers_trend":100,"posts_trend":95,"score_trend":-99,"frecv":"1.33"},{"id":47,"first_name":"Tanguy","last_name":"Chesneau","avatar":"https://e604928705f12d99b679-75d66e349be7351b0bb87db3c2ed768a.ssl.cf3.rackcdn.com/facebook-avatar/08072020-0842-image.jpeg","country":"FR","job_description":"CONSEILLER COMMERCIAL EN ASSURANCE","bio":"Pensons ou repensons ensemble vos projets personnels.  R√©fl√©chissons ensuite aux al√©as qui pourraient venir entraver leur r√©alisation. A l‚Äôissue de cette analyse, nous trouverons ensemble vos solutions en assurances. celle ci seront adapt√©es √† vos besoins.‚Äù ","twitter_connected":false,"instagram_connected":false,"facebook_page_id":"706069036171637","linkedin_url":"https://www.linkedin.com/in/tanguy-chesneau-a7b2675a/","linkedin_url_valid":true,"total_score":"0.56102173913043478261","old_score":"1.8913333333333333","top_post_date":"2020-07-27 11:39:39","top_post_media":"https://external.flhr4-2.fna.fbcdn.net/safe_image.php?d=AQAfwsoFQnTSj9XB&url=https%3A%2F%2Fmedia.ouest-france.fr%2Fv1%2Fpictures%2FMjAyMDA3NmY5ZmIyODNiZGM1YjkyNTA5MDZjMzdjZGRlZTEwNDA%3Fwidth%3D1260%26height%3D712%26focuspoint%3D50%252C25%26cropresize%3D1%26client_id%3Dbpeditorial%26sign%3Da60c0d59809bbc24f44caee2d31f1bc242b8ea4b3671ecfedf9216479178a58c&_nc_hash=AQAfsU_Z4_y5tOmH","top_post_copy":null,"followers_now":188,"old_followers":null,"posts":46,"old_posts":9,"rank":5,"old_rank":5,"rank_trend":0,"followers_trend":100,"posts_trend":81,"score_trend":-71,"frecv":"1.53"},{"id":21,"first_name":"Nicolas","last_name":"Alves","avatar":"https://e604928705f12d99b679-75d66e349be7351b0bb87db3c2ed768a.ssl.cf3.rackcdn.com/facebook-avatar/Nicolas%20Alves.jpg","country":"FR","job_description":"Conseiller commercial ","bio":"Plus qu‚Äôun m√©tier une passion","twitter_connected":false,"instagram_connected":false,"facebook_page_id":"227605311351783","linkedin_url":"https://www.linkedin.com/in/nicolas-alves-b03454100/","linkedin_url_valid":true,"total_score":"0.53590322580645161290","old_score":"1.01676470588235294118","top_post_date":"2020-07-06 19:12:32","top_post_media":"https://external.flhr4-2.fna.fbcdn.net/safe_image.php?d=AQBWq-Ys6naXL0rY&url=https%3A%2F%2Fimages.lanouvellerepublique.fr%2Fimage%2Fupload%2Ft_1020w%2F5f0324e69a31e455578b457a.jpg&_nc_hash=AQDlJeTHhsNiCKEl","top_post_copy":null,"followers_now":82,"old_followers":81,"posts":93,"old_posts":51,"rank":6,"old_rank":6,"rank_trend":0,"followers_trend":2,"posts_trend":46,"score_trend":-48,"frecv":"3.10"},{"id":18,"first_name":"Laurent","last_name":"Le Gal","avatar":"https://e604928705f12d99b679-75d66e349be7351b0bb87db3c2ed768a.ssl.cf3.rackcdn.com/facebook-avatar/Laurent%20Le%20Gal.jpg","country":"FR","job_description":"Conseiller commercial moniteur expert","bio":"14 ans d'exp√©rience chez Generali assurances. \r\nLabellis√© Prime Unique et Retraite.\r\nExpert.\r\nMoniteur.","twitter_connected":false,"instagram_connected":false,"facebook_page_id":"205337786749843","linkedin_url":"https://www.linkedin.com/in/laurent-le-gal-5a4845131/","linkedin_url_valid":true,"total_score":"0.12466666666666666667","old_score":"3.0305000000000000","top_post_date":"2020-07-23 20:11:53","top_post_media":"https://external.flhr4-2.fna.fbcdn.net/safe_image.php?d=AQDs-uVjn9D4IUXA&url=https%3A%2F%2Fmedia.ouest-france.fr%2Fv1%2Fpictures%2FMjAyMDA3YWYwYWQyMzM1MWU5MTA1OTc0MTVhOTdkNjEyOWQ4Njk%3Fwidth%3D1260%26height%3D712%26focuspoint%3D57%252C85%26cropresize%3D1%26client_id%3Dbpeditorial%26sign%3D0a5a6ebd2c6b7feb7efd16cc99384fad7df982739681711ec40dd2fe6fd54931&_nc_hash=AQCGAORG1xz-GbRD","top_post_copy":"Un taux, inf√©rieur √† l'inflation !, qui ne remontera pas avant des ann√©es et les Fran√ßais continuent √† abonder √† +20 milliards ce type de livret... Et vous, vous trouvez √ßa logique?!","followers_now":33,"old_followers":33,"posts":39,"old_posts":4,"rank":7,"old_rank":4,"rank_trend":-3,"followers_trend":0,"posts_trend":90,"score_trend":-96,"frecv":"1.30"}]};

          console.log(pageDataJS); 

          var pageId = '';
          var slideDom = $('#report_slide'+pageId);
          var custom = {
              color : '#F6871B',
              vendorLogoURL : 'https://3c90f21d2e52d99af65d-cc7a500d9b10d65e67a8ddf30b9c21f5.ssl.cf3.rackcdn.com/reports_imgs/bg/buzzradar_logo_reports.png',
              bgURL : 'https://3c90f21d2e52d99af65d-cc7a500d9b10d65e67a8ddf30b9c21f5.ssl.cf3.rackcdn.com/reports_imgs/bg/br_reports_bg.jpg',
          };
          console.log("Unique Page ID:", "report_slide"+pageId);


          var hexToRgb = function(hex,alpha) {
            // Expand shorthand form (e.g. "03F") to full form (e.g. "0033FF")
            var shorthandRegex = /^#?([a-f\d])([a-f\d])([a-f\d])$/i;
            hex = hex.replace(shorthandRegex, function(m, r, g, b) {
              return r + r + g + g + b + b;
            });

            var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? "rgba("+parseInt(result[1], 16)+","+parseInt(result[2], 16)+","+parseInt(result[3], 16)+","+alpha+")" : null;
          };



          var getArrow = function(agentInfo) {

            var arrow = '<i class="fa fa-arrow-up"></i>';
            if (agentInfo.old_rank > agentInfo.rank) {
              arrow = '<i class="fa fa-arrow-down"></i>';
            }
            return arrow;

          };




          var loadLeaderboard = function() {

            var agentsHolderDOM = slideDom.find('#agents-holder');
            
            for (var i = 0; i <= 4; i++) {
              
              var agentDOM = `<!-- BEGIN: Agent Layout -->
                <div class="agent">

                    <div class="col-a1">
                      <span class="position">`+pageDataJS.leaderboard[i].rank+`</span>
                    </div>
                    <div class="col-a2">
                      <div class="increment">
                        <div class="increment-number">`+pageDataJS.leaderboard[i].rank_trend+`</div>
                        <div class="arrow">
                          `+getArrow(pageDataJS.leaderboard[i])+`
                        </div>
                      </div>
                    </div>
                    <div class="col-a3">
                      <div class="profilePic">
                        <img src="`+pageDataJS.leaderboard[i].avatar+`" width="100%" height="100%" />
                      </div>
                    </div>
                    <div class="col-a4">
                      <div class="name-job">
                        <div class="name">
                          `+pageDataJS.leaderboard[i].first_name + ' ' + pageDataJS.leaderboard[i].last_name +`
                        </div>
                        <div class="job-description">
                          `+pageDataJS.leaderboard[i].job_description+`
                        </div>
                      </div>
                    </div>

                    <div class="col-a5">
                      <div class="stats">
                        <div class="title">
                          Posts
                        </div>
                        <div class="stat-num">
                          `+pageDataJS.leaderboard[i].posts+`
                        </div>
                      </div>
                    </div>
                    <div class="col-a6">
                      <div class="stats">
                        <div class="title">
                          Engagement Rate
                        </div>
                        <div class="stat-num">
                          `+Number(Math.round((pageDataJS.leaderboard[i].total_score)+'e2')+'e-2')+`%
                        </div>
                      </div>
                    </div>
                    <div class="col-a7">
                      <div class="stats">
                        <div class="title">
                          Score <small>(out 10)</small>
                        </div>
                        <div class="stat-num">
                          XX
                        </div>
                      </div>
                    </div>

                </div>
                <!-- END: Agent Layout -->`;

              agentsHolderDOM.append(agentDOM);
            }

          };
          

          var customize = function(customObject) {

            //Change Color
            var newColor = customObject.color;
            slideDom.find('.slide-background').find('.left-bar').css('background',newColor);
            slideDom.find('.slide-background').find('.right-bar').css('background',newColor);
            slideDom.find('.report_title').css('borderColor',newColor);

            //Change Color Agent
            slideDom.find('.agent').css('background', hexToRgb(newColor,1) );

            //Change Vendor Logo
            //Developer Note: To avoid having issues placing the different logos, they must be 
            //created within this dimensions: 300 x 131
            slideDom.find('.footer').find('img').attr('src',customObject.vendorLogoURL);
            slideDom.find('.footer').find('img').css('marginTop',-25);
            slideDom.find('.footer').find('img').css('width',170);

          };


          return {
              init: function () {

                loadLeaderboard();
                customize(custom);

              }
          };


      }();

      LeaderboardInstance.init();
      
    </script>


  </body>
</html>
