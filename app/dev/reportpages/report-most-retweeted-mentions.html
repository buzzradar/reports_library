<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../favicon.ico">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="   sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,800&display=swap" rel="stylesheet">

    <link href="css/report-most-retweeted-mentions.css" rel="stylesheet">
    
    <title>Buzz Radar Reports Page</title>

  </head>

  <body>

    <div id="report_slide" class="report-most-retweeted-mentions" style="top:{{slideTop}}px;">

      <div class="slide-background">
        
        <div class="bubbles">
          <div class="b-top"></div>
          <div class="b-middle"></div>
          <div class="b-bottom"></div>
        </div>
        <div class="left-bar orange"></div>
        <div class="right-bar orange"></div>
        <div class="vertical"></div>

      </div>

      <div class="slide">
          
          <div class="report_title">
              <div class="top">{{report.name}}</div>
              <div class="bottom">{{topic.name}}: Most Retweeted and Mentions</div>
          </div>

          <div class="content">


            <div class="main-layout-wrap">
              <div class="col1">
                
                <!-- <div class="tweet_type">Most Positive</div> -->
                <div class="holder_neutral"></div>
                <!-- <div class="tweet">
                    <img class="social_network_corner_logo" src="https://3c90f21d2e52d99af65d-cc7a500d9b10d65e67a8ddf30b9c21f5.ssl.cf3.rackcdn.com/reports_imgs/social/twitter_bird.png" width="40" />
                    
                    <div class="avatar" style="background-image: url('https://3c90f21d2e52d99af65d-cc7a500d9b10d65e67a8ddf30b9c21f5.ssl.cf3.rackcdn.com/reports_imgs/avatar/twitter_avatar.jpg');"></div>
                    <div class="handle">
                      A. N. Account<br>
                      @anaccount, 17,453 Followers
                    </div>
                    <div class="copy">Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et maef.Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et maef.</div>
                    <div class="date"><u>4:45 AM - 28 Sep 2015</u> xxxx Retweets, xxxx Likes</div>
                    <div class="retweet_triangle positive"></div>
                </div> -->

              </div>
              <div class="col2">
                <!-- <div class="tweet_type">Most Negative</div> -->
                <div class="holder_neutral"></div>
              </div>
            </div>

          </div>


      </div>

      <div class="footer">
          <div class="date-range">Date Range: {{fromDate | date('jS M Y') }} - {{ toDate | date('jS M Y') }}</div>
          <img src="https://3c90f21d2e52d99af65d-cc7a500d9b10d65e67a8ddf30b9c21f5.ssl.cf3.rackcdn.com/reports_imgs/logos/RGB_NAME_WHITEBG_SMALL72.png" width="200">
      </div>

    </div>





    <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
    <script src="../libraries/amcharts/amcharts.js"></script>
    <script src="../libraries/amcharts/pie.js"></script>

    <script>

      var MostRetweetedMentions = function () {

        var pageDataJS = {"mostRetweetedTweets":[{"universeCategory":[],"id":524185413,"feedTwitterMention":5874,"approved":true,"created":{"timezone":{"name":"UTC","transitions":[{"ts":-9223372036854776000,"time":"-292277022657-01-27T08:29:52+0000","offset":0,"isdst":false,"abbr":"UTC"}],"location":{"country_code":"??","latitude":0,"longitude":0,"comments":"?"}},"offset":0,"timestamp":1610476876},"tweetId":"1349063882363396096","date":{"timezone":{"name":"UTC","transitions":[{"ts":-9223372036854776000,"time":"-292277022657-01-27T08:29:52+0000","offset":0,"isdst":false,"abbr":"UTC"}],"location":{"country_code":"??","latitude":0,"longitude":0,"comments":"?"}},"offset":0,"timestamp":1610476868},"username":"game_watch","name":"GAME Watch","description":"„Ç≤„Éº„É†„ÄÅe„Çπ„Éù„Éº„ÉÑ„ÄÅ„Ç¢„Éã„É°„ÄÅ„Éû„É≥„Ç¨„Å™„Å©„Éá„Ç∏„Çø„É´„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÇíÂπÖÂ∫É„ÅèÊâ±„ÅÜ„É°„Éá„Ç£„Ç¢„ÄåGAME Watch„Äç„ÅÆÂÖ¨ÂºèTwitter„Ç¢„Ç´„Ç¶„É≥„Éà„Åß„Åô„ÄÇ„Éõ„Éì„Éº„ÅØHOBBY Watch„Å®„Åó„Å¶Áã¨Á´ã„Åó„Åæ„Åó„ÅüÔºà@hobbywatch_jp)„ÄÇÂÄãÂà•„Å´„ÅäËøî‰∫ã„ÅØ„Åß„Åç„Åæ„Åõ„Çì„Åå„ÄÅ„Ç≥„É°„É≥„Éà„ÅØÁ∑®ÈõÜÈÉ®‰∏ÄÂêå„ÅßË™≠„Åæ„Åõ„Å¶„ÅÑ„Åü„Å†„Åç„Åæ„Åô„ÄÇ","profileImageUrl":"http://pbs.twimg.com/profile_images/867928177565237248/51EgY2PQ.jpg","followers":237070,"friends":23,"imageUrl":"http://pbs.twimg.com/media/ErjWc59VgAAWYg0.jpg","content":"PS5„ÇÑXbox Series X„Å´„ÇÇÂØæÂøúÔºÅÂæÖÊúõ„ÅÆHDMI 2.1Êê≠Ëºâ„Ç≤„Éº„Éü„É≥„Ç∞„É¢„Éã„Çø„Éº„ÅåASUS„Åã„ÇâÁôªÂ†¥„ÄÄ4KËß£ÂÉèÂ∫¶Ôºã144HzÈßÜÂãï„ÅÆ32ÂûãIPSÊ∂≤‚Ä¶ https://game.watch.impress.co.jp/docs/news/1299001.html #ASUS #CES2021 ","retweets":234,"likes":0,"sentiment":0,"countryCode":null,"country":null,"userLocation":"Êù±‰∫¨ÈÉΩÂçÉ‰ª£Áî∞Âå∫","lang":"ja","originalTweetId":null,"originalRetweets":0,"originalUsername":null,"originalDate":null,"originalProfileImageUrl":null,"originalFollowers":0,"feedTwitterMentionGroupId":null,"userVerified":true,"topInfluential":true,"topInfluentialApproved":true,"topPositive":null,"topNegative":null,"adultVerified":false,"highlight":false,"visionSafeSearchAdult":null,"safeSearchAdult":null,"visionSafeSearchSpoof":null,"safeSearchSpoof":null,"visionSafeSearchMedical":null,"safeSearchMedical":null,"visionSafeSearchViolence":null,"safeSearchViolence":null,"visionSafeSearchRacy":null,"safeSearchRacy":null,"source":null},{"universeCategory":[],"id":523716808,"feedTwitterMention":5830,"approved":true,"created":{"timezone":{"name":"UTC","transitions":[{"ts":-9223372036854776000,"time":"-292277022657-01-27T08:29:52+0000","offset":0,"isdst":false,"abbr":"UTC"}],"location":{"country_code":"??","latitude":0,"longitude":0,"comments":"?"}},"offset":0,"timestamp":1610335687},"tweetId":"1348471672479780867","date":{"timezone":{"name":"UTC","transitions":[{"ts":-9223372036854776000,"time":"-292277022657-01-27T08:29:52+0000","offset":0,"isdst":false,"abbr":"UTC"}],"location":{"country_code":"??","latitude":0,"longitude":0,"comments":"?"}},"offset":0,"timestamp":1610335674},"username":"ASUS_ROG","name":"ROG Global","description":"The Official ASUS ROG Twitter. \n\nFor support, please contact ASUS ROG in your region or go to http://www.asus.com/support","profileImageUrl":"http://pbs.twimg.com/profile_images/1346369825019371525/awnlfQQs.jpg","followers":880381,"friends":233,"imageUrl":"http://pbs.twimg.com/media/Era5aBYVgAAn7K3.jpg","content":"Stay tuned for some big news during CES. üòâ\n\n#CES2021 #ForThoseWhoDare #ROG ","retweets":221,"likes":0,"sentiment":0,"countryCode":null,"country":null,"userLocation":"Global","lang":"en","originalTweetId":null,"originalRetweets":0,"originalUsername":null,"originalDate":null,"originalProfileImageUrl":null,"originalFollowers":0,"feedTwitterMentionGroupId":null,"userVerified":true,"topInfluential":true,"topInfluentialApproved":true,"topPositive":null,"topNegative":null,"adultVerified":false,"highlight":false,"visionSafeSearchAdult":null,"safeSearchAdult":null,"visionSafeSearchSpoof":null,"safeSearchSpoof":null,"visionSafeSearchMedical":null,"safeSearchMedical":null,"visionSafeSearchViolence":null,"safeSearchViolence":null,"visionSafeSearchRacy":null,"safeSearchRacy":null,"source":null},{"universeCategory":[],"id":524425621,"feedTwitterMention":5847,"approved":true,"created":{"timezone":{"name":"UTC","transitions":[{"ts":-9223372036854776000,"time":"-292277022657-01-27T08:29:52+0000","offset":0,"isdst":false,"abbr":"UTC"}],"location":{"country_code":"??","latitude":0,"longitude":0,"comments":"?"}},"offset":0,"timestamp":1610561409},"tweetId":"1349418433964871687","date":{"timezone":{"name":"UTC","transitions":[{"ts":-9223372036854776000,"time":"-292277022657-01-27T08:29:52+0000","offset":0,"isdst":false,"abbr":"UTC"}],"location":{"country_code":"??","latitude":0,"longitude":0,"comments":"?"}},"offset":0,"timestamp":1610561400},"username":"ASUS","name":"ASUS","description":"Official ASUS Twitter. Get the scoop on products, updates and contests. You can also ask us your questions at http://facebook.com/asus","profileImageUrl":"http://pbs.twimg.com/profile_images/378800000322776927/f1ae67d3bd3904d0ab83b79e43052592.png","followers":797882,"friends":441,"imageUrl":null,"content":"We've saved the most incredible highlights of the #ASUS #CES2021 #BeAhead virtual launch from the best laptops to displays and projectors. Watch this video to get the latest updates! https://t.co/PrGUe7T2xx https://t.co/vgP4wqikja","retweets":159,"likes":0,"sentiment":5,"countryCode":null,"country":null,"userLocation":"ASUS HQ","lang":"en","originalTweetId":null,"originalRetweets":0,"originalUsername":null,"originalDate":null,"originalProfileImageUrl":null,"originalFollowers":0,"feedTwitterMentionGroupId":null,"userVerified":true,"topInfluential":true,"topInfluentialApproved":true,"topPositive":null,"topNegative":null,"adultVerified":false,"highlight":false,"visionSafeSearchAdult":null,"safeSearchAdult":null,"visionSafeSearchSpoof":null,"safeSearchSpoof":null,"visionSafeSearchMedical":null,"safeSearchMedical":null,"visionSafeSearchViolence":null,"safeSearchViolence":null,"visionSafeSearchRacy":null,"safeSearchRacy":null,"source":null}]};


        var pageId = '';
        var slideDom = $('#report_slide'+pageId);
        var custom = {
            color : '#8ebf6a',
            vendorLogoURL : 'https://3c90f21d2e52d99af65d-cc7a500d9b10d65e67a8ddf30b9c21f5.ssl.cf3.rackcdn.com/reports_imgs/bg/buzzradar_logo_reports.png',
            bgURL : 'https://3c90f21d2e52d99af65d-cc7a500d9b10d65e67a8ddf30b9c21f5.ssl.cf3.rackcdn.com/reports_imgs/bg/br_reports_bg.jpg',
          };
        console.log("Unique Page ID:", "report_slide"+pageId);
        console.log(pageDataJS);


        


        var formatNumber = function(value) {
          var finalValue;
          if (value > 1000000) {
            finalValue = Number((value/1000000).toFixed(2)) +' M';
            return finalValue;
          }
          if (value > 1000) {
            finalValue = Number((value/1000).toFixed(2)) +' K';
            return finalValue;
          }else{
            finalValue = value;
            return finalValue;
          }
        };

        var showPotentialReach = function(pageDataJS) {
          $('.report-3-most-effective-posts').find('.report_title .bottom').html('Potential Reach: <strong>'+formatNumber(pageDataJS.twitterDailyReach.total)+'</strong>');
        };

        var showStatsContent = function(tweetInfo) {
          var ret = 'Likes '+ tweetInfo.likes + ' Retweets '+tweetInfo.retweets;
          return ret;
        };

        var getSocialIcon = function(social) {

          switch(social) {
            case "twitter":
              return 'https://3c90f21d2e52d99af65d-cc7a500d9b10d65e67a8ddf30b9c21f5.ssl.cf3.rackcdn.com/reports_imgs/social/twitter_bird.png';
            break;
            case "facebook":
              return 'https://3c90f21d2e52d99af65d-cc7a500d9b10d65e67a8ddf30b9c21f5.ssl.cf3.rackcdn.com/reports_imgs/social/facebook.png';
            break;
            case "instagram":
              return 'https://3c90f21d2e52d99af65d-cc7a500d9b10d65e67a8ddf30b9c21f5.ssl.cf3.rackcdn.com/reports_imgs/social/instagram.png';
            break;
          }

        };




        var converUnixDateJavascript = function(UNIX_timestamp) {

          var a = new Date(UNIX_timestamp * 1000);
          var months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
          var year = a.getFullYear();
          var month = months[a.getMonth()];
          var date = a.getDate();
          var hour = a.getHours();
          var min = a.getMinutes();
          var sec = a.getSeconds();
          var time = date + ' ' + month + ' ' + year + ' ' + hour + ':' + min + ':' + sec ;
          return time;

        };




        var displayTweet = function(numTweet, tweetInfo,tweetType, column) {

          function loadUserAvatarIntoDOM(tweetInfo) {
            console.log(tweetInfo);
            var dom = slideDom.find(column).find('.holder_'+tweetType);
            var template = '<div class="tweet '+tweetType+'">';
                      template += '<div class="num_tweet">'+numTweet+'.</div>';
                      template += '<img class="social_network_corner_logo" src="'+getSocialIcon('twitter')+'" width="40" />';
                      template += '<div class="avatar" style="background-image: url(\''+tweetInfo.profileImageUrl+'\');"></div>';
                      template += '<div class="handle">';
                      template += ''+tweetInfo.username+'<br>';
                      template += ''+formatNumber(tweetInfo.followers)+' Followers';
                      template += '</div>';
                      template += '<div class="copy">'+tweetInfo.content+'</div>';
                      template += '<div class="date"><u>'+converUnixDateJavascript(tweetInfo.created.timestamp)+'</u> <strong>'+showStatsContent(tweetInfo)+'</strong></div>';
                      template += '<div class="retweet_triangle '+tweetType+'"></div>';
                  template += '</div>';

            dom.append(template);
          }

          tweetInfo.profileImageUrl = tweetInfo.profileImageUrl.replace('http://','https://');
          $.get(tweetInfo.profileImageUrl)

            .done(function() { 
                // Do something now you know the image exists.
                console.log("done!!!!");
                loadUserAvatarIntoDOM(tweetInfo);                  
            }).fail(function() { 
                // Image doesn't exist - replace avatar with the EGG
                console.log("fail!!!!!!!!!!!");
                tweetInfo.profileImageUrl = 'https://3c90f21d2e52d99af65d-cc7a500d9b10d65e67a8ddf30b9c21f5.ssl.cf3.rackcdn.com/reports_imgs/avatar/Twitter_NoProfileImage600x600.png';
                loadUserAvatarIntoDOM(tweetInfo);                  
            }); 

        };







        var customize = function(customObject) {

            //Change Color
            var newColor = customObject.color;
            slideDom.find('.slide-background').find('.left-bar').css('background',newColor);
            slideDom.find('.slide-background').find('.right-bar').css('background',newColor);
            slideDom.find('.report_title').css('borderColor',newColor);

            //Change Vendor Logo
            //Developer Note: To avoid having issues placing the different logos, they must be 
            //created within this dimensions: 300 x 131
            slideDom.find('.footer').find('img').attr('src',customObject.vendorLogoURL);
            slideDom.find('.footer').find('img').css('marginTop',-25);
            slideDom.find('.footer').find('img').css('width',170);

          };


        return {
            init: function () {
                for (let index = 0; index < pageDataJS.mostRetweetedTweets.length; index++) {
                    let tweet = pageDataJS.mostRetweetedTweets[index];
                    let col = (index % 2) + 1;                    
                    displayTweet(index+1,tweet,'neutral', '.col'+col);
                }
                customize(custom);
            }
        };
        
      }();

      MostRetweetedMentions.init();

    </script>
        
        


  </body>
</html>
